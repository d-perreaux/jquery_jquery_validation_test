<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Validate</title>
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.5/dist/jquery.validate.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.5/dist/additional-methods.min.js"></script>
</head>
<body>
    <h1>JQUERY Validate</h1>
    <h2>Formulaire d'Enregistrement</h2>

    <form id="myform">
        <div>
          <label for="nom">Nom:</label>
          <input type="text" id="nom" name="nom">
        </div>
        <div class="email-input">
          <label for="email">Email:</label>
          <input type="email" id="email" name="email">
        </div>
        <div>
          <input type="checkbox" id="contactform_email" name="contactform_email">
          <label for="contactform_email">Envoyer des e-mails de contact</label>
        </div>
        <div>
          <button type="submit">Envoyer</button>
        </div>
      </form>
      
<script>
$(document).ready(function() {
  $('#contactform_email').change(function() {
    if ($(this).is(":checked")) {
      $('.email-input').show();
      $('#email').rules('add', {
        required: true,
        email: true,
        messages: {
          required: "Veuillez saisir votre adresse email",
          email: "Veuillez saisir une adresse email valide"
        }
      });
    } else {
      $('.email-input').hide();
      $('#email').rules('remove');
    }
  });

  $('#myform').validate({
    rules: {
      nom: {
        required: true,
        minlength: 2
      }
    },
    messages: {
      nom: {
        required: "Veuillez saisir votre nom",
        minlength: "Le nom doit comporter au moins 2 caract√®res"
      }
    }
  });
});

</script>

</body>
</html>